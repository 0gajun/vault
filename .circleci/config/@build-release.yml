### ***
### WARNING: DO NOT manually EDIT or MERGE this file, it is generated by 'make .circleci/config/@build-release.yml'.
### INSTEAD: Edit or merge the source in packages-oss.lock/pkgs.yml .circleci/config/@build-release.yml.tpl then run 'make .circleci/config/@build-release.yml'.
### ***
# Current cache version: cache002

executors:
  releaser:
    docker:
      - image: circleci/buildpack-deps
    environment:
      PRODUCT_REVISION: "043c71e862da29c83f1d38d13e95e8fa668c23f6"
      AUTO_INSTALL_TOOLS: 'YES'
    shell: /usr/bin/env bash -euo pipefail -c

workflows:
  build-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d:
    jobs:
      - cache-builder-images:
          filters:
            branches:
              only:
                - /build-.*/
                - /ci.*/
      - darwin_386_package: { requires: [ cache-builder-images ] }
      - darwin_amd64_package: { requires: [ cache-builder-images ] }
      - freebsd_386_package: { requires: [ cache-builder-images ] }
      - freebsd_amd64_package: { requires: [ cache-builder-images ] }
      - freebsd_arm_package: { requires: [ cache-builder-images ] }
      - linux_386_package: { requires: [ cache-builder-images ] }
      - linux_amd64_package: { requires: [ cache-builder-images ] }
      - linux_arm_package: { requires: [ cache-builder-images ] }
      - linux_arm64_package: { requires: [ cache-builder-images ] }
      - netbsd_386_package: { requires: [ cache-builder-images ] }
      - netbsd_amd64_package: { requires: [ cache-builder-images ] }
      - openbsd_386_package: { requires: [ cache-builder-images ] }
      - openbsd_amd64_package: { requires: [ cache-builder-images ] }
      - solaris_amd64_package: { requires: [ cache-builder-images ] }
      - windows_386_package: { requires: [ cache-builder-images ] }
      - windows_amd64_package: { requires: [ cache-builder-images ] }
      - bundle-releases:
          requires:
            - darwin_386_package
            - darwin_amd64_package
            - freebsd_386_package
            - freebsd_amd64_package
            - freebsd_arm_package
            - linux_386_package
            - linux_amd64_package
            - linux_arm_package
            - linux_arm64_package
            - netbsd_386_package
            - netbsd_amd64_package
            - openbsd_386_package
            - openbsd_amd64_package
            - solaris_amd64_package
            - windows_386_package
            - windows_amd64_package
jobs:
  cache-builder-images:
    executor: releaser
    steps:
      - setup_remote_docker
      - checkout
      - write-build-layer-cache-keys

      # Load best available cached image.
      - restore_cache:
          keys:
            - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
            - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
            - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
            - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
            - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
            - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
            - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
            - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run:
          name: Finish early if loaded exact match from cache.
          command: |
            if [ -f .buildcache/archives/07-build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f.tar.gz ]; then
              echo "Exact match found in cache, skipping build."
              circleci-agent step halt
            else
              echo "No exact match found, proceeding with build."
            fi
      - run: LAYER_SPEC_ID=07-build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f make -C packages*.lock load-builder-cache

      # No exact match was found, so build each layer up to target type.
      - run: make -f packages*.lock/layer.mk 00-base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9-image
      - run: make -f packages*.lock/layer.mk 01-install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca-image
      - run: make -f packages*.lock/layer.mk 02-install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996-image
      - run: make -f packages*.lock/layer.mk 03-set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde-image
      - run: make -f packages*.lock/layer.mk 04-install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3-image
      - run: make -f packages*.lock/layer.mk 05-ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1-image
      - run: make -f packages*.lock/layer.mk 06-build-ui-c937a082f8421679ff11d63348e19af07f067cbb-image
      - run: make -f packages*.lock/layer.mk 07-build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f-image

      # Save the target layer archive.
      
      - run: make -f packages*.lock/layer.mk 07-build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f-save
      
      # Store the target layer archive as all the relevant cache names.
      - save_cache:
          key: cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          paths:
            - .buildcache/archives/07-build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f.tar.gz
      - run: mv .buildcache/archives/07-build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f.tar.gz .buildcache/archives/06-build-ui-c937a082f8421679ff11d63348e19af07f067cbb.tar.gz
      - save_cache:
          key: cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          paths:
            - .buildcache/archives/06-build-ui-c937a082f8421679ff11d63348e19af07f067cbb.tar.gz
      - run: mv .buildcache/archives/06-build-ui-c937a082f8421679ff11d63348e19af07f067cbb.tar.gz .buildcache/archives/05-ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1.tar.gz
      - save_cache:
          key: cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          paths:
            - .buildcache/archives/05-ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1.tar.gz
      - run: mv .buildcache/archives/05-ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1.tar.gz .buildcache/archives/04-install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3.tar.gz
      - save_cache:
          key: cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          paths:
            - .buildcache/archives/04-install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3.tar.gz
      - run: mv .buildcache/archives/04-install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3.tar.gz .buildcache/archives/03-set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde.tar.gz
      - save_cache:
          key: cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          paths:
            - .buildcache/archives/03-set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde.tar.gz
      - run: mv .buildcache/archives/03-set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde.tar.gz .buildcache/archives/02-install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996.tar.gz
      - save_cache:
          key: cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          paths:
            - .buildcache/archives/02-install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996.tar.gz
      - run: mv .buildcache/archives/02-install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996.tar.gz .buildcache/archives/01-install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca.tar.gz
      - save_cache:
          key: cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          paths:
            - .buildcache/archives/01-install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca.tar.gz
      - run: mv .buildcache/archives/01-install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca.tar.gz .buildcache/archives/00-base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9.tar.gz
      - save_cache:
          key: cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
          paths:
            - .buildcache/archives/00-base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9.tar.gz
  darwin_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: cc317f2a3ad44967959a3388f43797e308c5baac
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-cc317f2a3ad44967959a3388f43797e308c5baac-{{checksum ".buildcache/cache-keys/package-cc317f2a3ad44967959a3388f43797e308c5baac"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_db21_{{checksum ".buildcache/cache-keys/copy-source-db216d38c000cb49e8f7f225a9bc673fb21d4f4b"}}
          - cache002-warm-go-build-vendor-cache_8ed9_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-8ed94ce8cc534fd2d431860f24b35a2c351fa5ea"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-cc317f2a3ad44967959a3388f43797e308c5baac-{{checksum ".buildcache/cache-keys/package-cc317f2a3ad44967959a3388f43797e308c5baac"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-8ed94ce8cc534fd2d431860f24b35a2c351fa5ea.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-8ed94ce8cc534fd2d431860f24b35a2c351fa5ea-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_8ed9_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-8ed94ce8cc534fd2d431860f24b35a2c351fa5ea"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-8ed94ce8cc534fd2d431860f24b35a2c351fa5ea.tar.gz

  darwin_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: d74adc3520286ffa84a2614007ad3e3a2c3941e7
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-d74adc3520286ffa84a2614007ad3e3a2c3941e7-{{checksum ".buildcache/cache-keys/package-d74adc3520286ffa84a2614007ad3e3a2c3941e7"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_4daf_{{checksum ".buildcache/cache-keys/copy-source-4dafdbfe78748a819151eac5f1ebe1bc152a1dcc"}}
          - cache002-warm-go-build-vendor-cache_cd62_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-cd628217acd546238858765232258d84a238b5a9"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-d74adc3520286ffa84a2614007ad3e3a2c3941e7-{{checksum ".buildcache/cache-keys/package-d74adc3520286ffa84a2614007ad3e3a2c3941e7"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-cd628217acd546238858765232258d84a238b5a9.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-cd628217acd546238858765232258d84a238b5a9-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_cd62_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-cd628217acd546238858765232258d84a238b5a9"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-cd628217acd546238858765232258d84a238b5a9.tar.gz

  freebsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: f66ddc9b0ea21c5d64a4ed7290732425866330e1
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-f66ddc9b0ea21c5d64a4ed7290732425866330e1-{{checksum ".buildcache/cache-keys/package-f66ddc9b0ea21c5d64a4ed7290732425866330e1"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_8392_{{checksum ".buildcache/cache-keys/copy-source-8392958bc5db3584bb313f708d4dd8428bc26354"}}
          - cache002-warm-go-build-vendor-cache_c8bf_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-c8bf408d7384d11baf7d0c1b87414d7021bdfea3"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-f66ddc9b0ea21c5d64a4ed7290732425866330e1-{{checksum ".buildcache/cache-keys/package-f66ddc9b0ea21c5d64a4ed7290732425866330e1"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-c8bf408d7384d11baf7d0c1b87414d7021bdfea3.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-c8bf408d7384d11baf7d0c1b87414d7021bdfea3-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_c8bf_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-c8bf408d7384d11baf7d0c1b87414d7021bdfea3"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-c8bf408d7384d11baf7d0c1b87414d7021bdfea3.tar.gz

  freebsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: d1bf9f840543456987a6b5b302d579d6a0a71843
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-d1bf9f840543456987a6b5b302d579d6a0a71843-{{checksum ".buildcache/cache-keys/package-d1bf9f840543456987a6b5b302d579d6a0a71843"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_7087_{{checksum ".buildcache/cache-keys/copy-source-7087cdb59fc9d1db5562048ccf45e07e569c5aa3"}}
          - cache002-warm-go-build-vendor-cache_b2bf_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-b2bfce3fbf87b1746c0dfa68b315439d1b7baf0c"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-d1bf9f840543456987a6b5b302d579d6a0a71843-{{checksum ".buildcache/cache-keys/package-d1bf9f840543456987a6b5b302d579d6a0a71843"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-b2bfce3fbf87b1746c0dfa68b315439d1b7baf0c.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-b2bfce3fbf87b1746c0dfa68b315439d1b7baf0c-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_b2bf_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-b2bfce3fbf87b1746c0dfa68b315439d1b7baf0c"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-b2bfce3fbf87b1746c0dfa68b315439d1b7baf0c.tar.gz

  freebsd_arm_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: eea28b28553e5f6bcccd6063128881f312b93b36
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-eea28b28553e5f6bcccd6063128881f312b93b36-{{checksum ".buildcache/cache-keys/package-eea28b28553e5f6bcccd6063128881f312b93b36"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_2b9c_{{checksum ".buildcache/cache-keys/copy-source-2b9cd1809d38c2b36f12b4cd858b9d7d8490534e"}}
          - cache002-warm-go-build-vendor-cache_14e9_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-14e9599d0e1338e62e934fdd5dc9de631501b93d"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-eea28b28553e5f6bcccd6063128881f312b93b36-{{checksum ".buildcache/cache-keys/package-eea28b28553e5f6bcccd6063128881f312b93b36"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-14e9599d0e1338e62e934fdd5dc9de631501b93d.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-14e9599d0e1338e62e934fdd5dc9de631501b93d-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_14e9_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-14e9599d0e1338e62e934fdd5dc9de631501b93d"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-14e9599d0e1338e62e934fdd5dc9de631501b93d.tar.gz

  linux_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 529b35cb43a7f1e2573d5181876c227e9a60000c
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-529b35cb43a7f1e2573d5181876c227e9a60000c-{{checksum ".buildcache/cache-keys/package-529b35cb43a7f1e2573d5181876c227e9a60000c"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_c754_{{checksum ".buildcache/cache-keys/copy-source-c7546f4e41cf51738817cd9b11b77dd25aef341e"}}
          - cache002-warm-go-build-vendor-cache_62c1_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-62c182eb7af168b14231446f7307585ebe4086d5"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-529b35cb43a7f1e2573d5181876c227e9a60000c-{{checksum ".buildcache/cache-keys/package-529b35cb43a7f1e2573d5181876c227e9a60000c"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-62c182eb7af168b14231446f7307585ebe4086d5.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-62c182eb7af168b14231446f7307585ebe4086d5-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_62c1_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-62c182eb7af168b14231446f7307585ebe4086d5"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-62c182eb7af168b14231446f7307585ebe4086d5.tar.gz

  linux_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 340232b9538d5b5444b0530eab3259f6e9062e4a
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-340232b9538d5b5444b0530eab3259f6e9062e4a-{{checksum ".buildcache/cache-keys/package-340232b9538d5b5444b0530eab3259f6e9062e4a"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_9eaa_{{checksum ".buildcache/cache-keys/copy-source-9eaa126540910740dc86404911cb1df919e32488"}}
          - cache002-warm-go-build-vendor-cache_457b_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-457b86a970f3c6ce56e86801d246abb094437383"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-340232b9538d5b5444b0530eab3259f6e9062e4a-{{checksum ".buildcache/cache-keys/package-340232b9538d5b5444b0530eab3259f6e9062e4a"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-457b86a970f3c6ce56e86801d246abb094437383.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-457b86a970f3c6ce56e86801d246abb094437383-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_457b_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-457b86a970f3c6ce56e86801d246abb094437383"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-457b86a970f3c6ce56e86801d246abb094437383.tar.gz

  linux_arm_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 1badc60a30a8568318124372dcbf6821bbeb3189
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-1badc60a30a8568318124372dcbf6821bbeb3189-{{checksum ".buildcache/cache-keys/package-1badc60a30a8568318124372dcbf6821bbeb3189"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_65bd_{{checksum ".buildcache/cache-keys/copy-source-65bdad4ee006ce4f04fc27b6fecd4d2f24885ae4"}}
          - cache002-warm-go-build-vendor-cache_2fb5_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-2fb51e02153b8ebdf8fa8dde9b19848856688615"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-1badc60a30a8568318124372dcbf6821bbeb3189-{{checksum ".buildcache/cache-keys/package-1badc60a30a8568318124372dcbf6821bbeb3189"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-2fb51e02153b8ebdf8fa8dde9b19848856688615.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-2fb51e02153b8ebdf8fa8dde9b19848856688615-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_2fb5_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-2fb51e02153b8ebdf8fa8dde9b19848856688615"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-2fb51e02153b8ebdf8fa8dde9b19848856688615.tar.gz

  linux_arm64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 468613857eefa82b6065a08cfc6f0c4eae025f47
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-468613857eefa82b6065a08cfc6f0c4eae025f47-{{checksum ".buildcache/cache-keys/package-468613857eefa82b6065a08cfc6f0c4eae025f47"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_8b52_{{checksum ".buildcache/cache-keys/copy-source-8b526dab0f970f061a9b6fb3d94001be5640d539"}}
          - cache002-warm-go-build-vendor-cache_d64f_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-d64f505f58203dc7743b7ccbe9efe6d97d7ffa70"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-468613857eefa82b6065a08cfc6f0c4eae025f47-{{checksum ".buildcache/cache-keys/package-468613857eefa82b6065a08cfc6f0c4eae025f47"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-d64f505f58203dc7743b7ccbe9efe6d97d7ffa70.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-d64f505f58203dc7743b7ccbe9efe6d97d7ffa70-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_d64f_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-d64f505f58203dc7743b7ccbe9efe6d97d7ffa70"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-d64f505f58203dc7743b7ccbe9efe6d97d7ffa70.tar.gz

  netbsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: e83a6016288c73b96e906b7de2ceb6c589e10d22
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-e83a6016288c73b96e906b7de2ceb6c589e10d22-{{checksum ".buildcache/cache-keys/package-e83a6016288c73b96e906b7de2ceb6c589e10d22"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_3fe9_{{checksum ".buildcache/cache-keys/copy-source-3fe9850b7446f77d13ce552a2e8542ee62c33aff"}}
          - cache002-warm-go-build-vendor-cache_0b1b_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-0b1b413ae4dd129d533a9b7f3e16c5a02615e819"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-e83a6016288c73b96e906b7de2ceb6c589e10d22-{{checksum ".buildcache/cache-keys/package-e83a6016288c73b96e906b7de2ceb6c589e10d22"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-0b1b413ae4dd129d533a9b7f3e16c5a02615e819.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-0b1b413ae4dd129d533a9b7f3e16c5a02615e819-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_0b1b_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-0b1b413ae4dd129d533a9b7f3e16c5a02615e819"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-0b1b413ae4dd129d533a9b7f3e16c5a02615e819.tar.gz

  netbsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: ea5f5ec40a810b347e6854d1b853fcc54aa4fed3
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-ea5f5ec40a810b347e6854d1b853fcc54aa4fed3-{{checksum ".buildcache/cache-keys/package-ea5f5ec40a810b347e6854d1b853fcc54aa4fed3"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_0d1e_{{checksum ".buildcache/cache-keys/copy-source-0d1ef620eef4d74fc1a4ec3eb3e8e2328e22f240"}}
          - cache002-warm-go-build-vendor-cache_cbcd_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-cbcd087e6eae3cb4435afda8cfb91d880616ad93"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-ea5f5ec40a810b347e6854d1b853fcc54aa4fed3-{{checksum ".buildcache/cache-keys/package-ea5f5ec40a810b347e6854d1b853fcc54aa4fed3"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-cbcd087e6eae3cb4435afda8cfb91d880616ad93.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-cbcd087e6eae3cb4435afda8cfb91d880616ad93-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_cbcd_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-cbcd087e6eae3cb4435afda8cfb91d880616ad93"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-cbcd087e6eae3cb4435afda8cfb91d880616ad93.tar.gz

  openbsd_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 50280117efe595873a6678cba94a75928fb074de
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-50280117efe595873a6678cba94a75928fb074de-{{checksum ".buildcache/cache-keys/package-50280117efe595873a6678cba94a75928fb074de"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_32b7_{{checksum ".buildcache/cache-keys/copy-source-32b7ec4cbd63b4306c697fafbddd972c89ce5c96"}}
          - cache002-warm-go-build-vendor-cache_86df_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-86dfb1ff0237ad460b5103bc94ea492534886968"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-50280117efe595873a6678cba94a75928fb074de-{{checksum ".buildcache/cache-keys/package-50280117efe595873a6678cba94a75928fb074de"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-86dfb1ff0237ad460b5103bc94ea492534886968.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-86dfb1ff0237ad460b5103bc94ea492534886968-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_86df_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-86dfb1ff0237ad460b5103bc94ea492534886968"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-86dfb1ff0237ad460b5103bc94ea492534886968.tar.gz

  openbsd_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3-{{checksum ".buildcache/cache-keys/package-2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_4ec8_{{checksum ".buildcache/cache-keys/copy-source-4ec83029d848b5e83b0bfd1e02d7abfa3aeb7f07"}}
          - cache002-warm-go-build-vendor-cache_c527_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-c527cf1b7a7cc2aa114a0e1220759863afdc21f9"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3-{{checksum ".buildcache/cache-keys/package-2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-c527cf1b7a7cc2aa114a0e1220759863afdc21f9.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-c527cf1b7a7cc2aa114a0e1220759863afdc21f9-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_c527_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-c527cf1b7a7cc2aa114a0e1220759863afdc21f9"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-c527cf1b7a7cc2aa114a0e1220759863afdc21f9.tar.gz

  solaris_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: b942cea2c9331851a8d252faf77438116afad910
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-b942cea2c9331851a8d252faf77438116afad910-{{checksum ".buildcache/cache-keys/package-b942cea2c9331851a8d252faf77438116afad910"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_5fca_{{checksum ".buildcache/cache-keys/copy-source-5fca6ed551271f94d85d09cf5579ad15da9ebad1"}}
          - cache002-warm-go-build-vendor-cache_4852_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-485200b4d5fc3793e27bfe35adda2c10d23074d6"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-b942cea2c9331851a8d252faf77438116afad910-{{checksum ".buildcache/cache-keys/package-b942cea2c9331851a8d252faf77438116afad910"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-485200b4d5fc3793e27bfe35adda2c10d23074d6.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-485200b4d5fc3793e27bfe35adda2c10d23074d6-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_4852_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-485200b4d5fc3793e27bfe35adda2c10d23074d6"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-485200b4d5fc3793e27bfe35adda2c10d23074d6.tar.gz

  windows_386_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: 2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e-{{checksum ".buildcache/cache-keys/package-2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_6898_{{checksum ".buildcache/cache-keys/copy-source-68982bd555002df1fc3f1d78bfd4dadd680e1f74"}}
          - cache002-warm-go-build-vendor-cache_97d8_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-97d8e468815428d63f0db327c2d2d15bf8d600c1"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e-{{checksum ".buildcache/cache-keys/package-2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-97d8e468815428d63f0db327c2d2d15bf8d600c1.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-97d8e468815428d63f0db327c2d2d15bf8d600c1-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_97d8_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-97d8e468815428d63f0db327c2d2d15bf8d600c1"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-97d8e468815428d63f0db327c2d2d15bf8d600c1.tar.gz

  windows_amd64_package:
    executor: releaser
    environment:
      - PACKAGE_SPEC_ID: e9ab910e3b74a9c3a2b366b9f0af9323246b7c35
    steps:
      - setup_remote_docker
      - checkout

      # Restore the package cache first, we might not need to rebuild.
      - write-package-cache-key
      - restore_cache:
          key: 'cache002-package-e9ab910e3b74a9c3a2b366b9f0af9323246b7c35-{{checksum ".buildcache/cache-keys/package-e9ab910e3b74a9c3a2b366b9f0af9323246b7c35"}}'
      - run:
          name: Check the cache status.
          command: |
            if ! { PKG=$(find .buildcache/packages/store -maxdepth 1 -mindepth 1 -name '*.zip' 2> /dev/null) && [ -n "$PKG" ]; }; then
              echo "No package found, continuing with build."
              exit 0
            fi
            echo "Package already cached, skipping build."
            circleci-agent step halt

      # We need to rebuild, so load the builder cache.
      - write-build-layer-cache-keys
      - restore_cache:
          keys:
          - cache002-copy-source_3a97_{{checksum ".buildcache/cache-keys/copy-source-3a97d801ad15159d330a8b578ce47144b914f9b0"}}
          - cache002-warm-go-build-vendor-cache_04d0_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-04d0377562d9376985441bc73e3064a39f9c4ea7"}}
          - cache002-build-static-assets_37fc_{{checksum ".buildcache/cache-keys/build-static-assets-37fcf9b89e236b803d4b54d4bfc90a10c94fd90f"}}
          - cache002-build-ui_c937_{{checksum ".buildcache/cache-keys/build-ui-c937a082f8421679ff11d63348e19af07f067cbb"}}
          - cache002-ui-dependencies_7435_{{checksum ".buildcache/cache-keys/ui-dependencies-74355bfc4a2485bc9635cb14e6b4384ec2402ff1"}}
          - cache002-install-yarn_926d_{{checksum ".buildcache/cache-keys/install-yarn-926d08522d2e0758f1808520531fb88e2a2a80c3"}}
          - cache002-set-workdir_cde3_{{checksum ".buildcache/cache-keys/set-workdir-cde3b254c7b2986a522b8ebf62a410edc11a7dde"}}
          - cache002-install-go-tools_32c4_{{checksum ".buildcache/cache-keys/install-go-tools-32c4e96435aa4be09df02e8d8dc1d32b466a5996"}}
          - cache002-install-go_1f0b_{{checksum ".buildcache/cache-keys/install-go-1f0b9b3d25847234b7d61e4660544bd8cf29beca"}}
          - cache002-base_a1d9_{{checksum ".buildcache/cache-keys/base-a1d961bcff31b1cdadaa9422452ba72d8b4a85a9"}}
      - run: make -C packages*.lock load-builder-cache
      - run: make -C packages*.lock package
      - run: ls -lahR .buildcache/packages
      # Save package cache.
      - save_cache:
          key: 'cache002-package-e9ab910e3b74a9c3a2b366b9f0af9323246b7c35-{{checksum ".buildcache/cache-keys/package-e9ab910e3b74a9c3a2b366b9f0af9323246b7c35"}}'
          paths:
            - .buildcache/packages/store
      # Save builder image cache if necessary.
      # The range should only iterate over a single layer.
      - run:
          name: Check builder cache status
          command: |
            if [ -f .buildcache/archives/08-warm-go-build-vendor-cache-04d0377562d9376985441bc73e3064a39f9c4ea7.tar.gz ]; then
              echo "Builder image already cached, skipping cache step."
              circleci-agent step halt
            fi
      - run: make -f packages*.lock/layer.mk 08-warm-go-build-vendor-cache-04d0377562d9376985441bc73e3064a39f9c4ea7-save
      - save_cache:
          key: 'cache002-warm-go-build-vendor-cache_04d0_{{checksum ".buildcache/cache-keys/warm-go-build-vendor-cache-04d0377562d9376985441bc73e3064a39f9c4ea7"}}'
          paths:
            - .buildcache/archives/08-warm-go-build-vendor-cache-04d0377562d9376985441bc73e3064a39f9c4ea7.tar.gz


  bundle-releases:
    executor: releaser
    steps:
      - checkout
      - write-all-package-cache-keys
      - load-darwin_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: cc317f2a3ad44967959a3388f43797e308c5baac
          name: Write package metadata for darwin_386_package
          command: |
            make package-meta
      - load-darwin_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: d74adc3520286ffa84a2614007ad3e3a2c3941e7
          name: Write package metadata for darwin_amd64_package
          command: |
            make package-meta
      - load-freebsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: f66ddc9b0ea21c5d64a4ed7290732425866330e1
          name: Write package metadata for freebsd_386_package
          command: |
            make package-meta
      - load-freebsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: d1bf9f840543456987a6b5b302d579d6a0a71843
          name: Write package metadata for freebsd_amd64_package
          command: |
            make package-meta
      - load-freebsd_arm_package
      - run:
          environment:
            PACKAGE_SPEC_ID: eea28b28553e5f6bcccd6063128881f312b93b36
          name: Write package metadata for freebsd_arm_package
          command: |
            make package-meta
      - load-linux_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 529b35cb43a7f1e2573d5181876c227e9a60000c
          name: Write package metadata for linux_386_package
          command: |
            make package-meta
      - load-linux_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 340232b9538d5b5444b0530eab3259f6e9062e4a
          name: Write package metadata for linux_amd64_package
          command: |
            make package-meta
      - load-linux_arm_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 1badc60a30a8568318124372dcbf6821bbeb3189
          name: Write package metadata for linux_arm_package
          command: |
            make package-meta
      - load-linux_arm64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 468613857eefa82b6065a08cfc6f0c4eae025f47
          name: Write package metadata for linux_arm64_package
          command: |
            make package-meta
      - load-netbsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: e83a6016288c73b96e906b7de2ceb6c589e10d22
          name: Write package metadata for netbsd_386_package
          command: |
            make package-meta
      - load-netbsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: ea5f5ec40a810b347e6854d1b853fcc54aa4fed3
          name: Write package metadata for netbsd_amd64_package
          command: |
            make package-meta
      - load-openbsd_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 50280117efe595873a6678cba94a75928fb074de
          name: Write package metadata for openbsd_386_package
          command: |
            make package-meta
      - load-openbsd_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3
          name: Write package metadata for openbsd_amd64_package
          command: |
            make package-meta
      - load-solaris_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: b942cea2c9331851a8d252faf77438116afad910
          name: Write package metadata for solaris_amd64_package
          command: |
            make package-meta
      - load-windows_386_package
      - run:
          environment:
            PACKAGE_SPEC_ID: 2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e
          name: Write package metadata for windows_386_package
          command: |
            make package-meta
      - load-windows_amd64_package
      - run:
          environment:
            PACKAGE_SPEC_ID: e9ab910e3b74a9c3a2b366b9f0af9323246b7c35
          name: Write package metadata for windows_amd64_package
          command: |
            make package-meta
      - run:
          name: Write package aliases
          command:
            make aliases
      - run:
          name: List Build Cache
          command: ls -lahR .buildcache

      # Surface the package store directory as an artifact.
      # This makes each zipped package separately downloadable.
      - store_artifacts:
          path: .buildcache/packages
          destination: packages-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d

      # Surface a tarball of the whole package store as an artifact.
      - run: tar -czf packages-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d.tar.gz .buildcache/packages
      - store_artifacts:
          path: packages-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d.tar.gz
          destination: packages-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d.tar.gz

      # Surface a tarball of just the metadata files.
      - run: tar -czf meta-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d.tar.gz .buildcache/packages/store/*.json
      - store_artifacts:
          path: meta-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d.tar.gz
          destination: meta-043c71e862da29c83f1d38d13e95e8fa668c23f6-dc9906c245d0028d.tar.gz

commands:
  load-darwin_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-cc317f2a3ad44967959a3388f43797e308c5baac-{{checksum ".buildcache/cache-keys/package-cc317f2a3ad44967959a3388f43797e308c5baac"}}'
  
  load-darwin_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-d74adc3520286ffa84a2614007ad3e3a2c3941e7-{{checksum ".buildcache/cache-keys/package-d74adc3520286ffa84a2614007ad3e3a2c3941e7"}}'
  
  load-freebsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-f66ddc9b0ea21c5d64a4ed7290732425866330e1-{{checksum ".buildcache/cache-keys/package-f66ddc9b0ea21c5d64a4ed7290732425866330e1"}}'
  
  load-freebsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-d1bf9f840543456987a6b5b302d579d6a0a71843-{{checksum ".buildcache/cache-keys/package-d1bf9f840543456987a6b5b302d579d6a0a71843"}}'
  
  load-freebsd_arm_package:
    steps:
      - restore_cache:
          key: 'cache002-package-eea28b28553e5f6bcccd6063128881f312b93b36-{{checksum ".buildcache/cache-keys/package-eea28b28553e5f6bcccd6063128881f312b93b36"}}'
  
  load-linux_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-529b35cb43a7f1e2573d5181876c227e9a60000c-{{checksum ".buildcache/cache-keys/package-529b35cb43a7f1e2573d5181876c227e9a60000c"}}'
  
  load-linux_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-340232b9538d5b5444b0530eab3259f6e9062e4a-{{checksum ".buildcache/cache-keys/package-340232b9538d5b5444b0530eab3259f6e9062e4a"}}'
  
  load-linux_arm_package:
    steps:
      - restore_cache:
          key: 'cache002-package-1badc60a30a8568318124372dcbf6821bbeb3189-{{checksum ".buildcache/cache-keys/package-1badc60a30a8568318124372dcbf6821bbeb3189"}}'
  
  load-linux_arm64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-468613857eefa82b6065a08cfc6f0c4eae025f47-{{checksum ".buildcache/cache-keys/package-468613857eefa82b6065a08cfc6f0c4eae025f47"}}'
  
  load-netbsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-e83a6016288c73b96e906b7de2ceb6c589e10d22-{{checksum ".buildcache/cache-keys/package-e83a6016288c73b96e906b7de2ceb6c589e10d22"}}'
  
  load-netbsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-ea5f5ec40a810b347e6854d1b853fcc54aa4fed3-{{checksum ".buildcache/cache-keys/package-ea5f5ec40a810b347e6854d1b853fcc54aa4fed3"}}'
  
  load-openbsd_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-50280117efe595873a6678cba94a75928fb074de-{{checksum ".buildcache/cache-keys/package-50280117efe595873a6678cba94a75928fb074de"}}'
  
  load-openbsd_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3-{{checksum ".buildcache/cache-keys/package-2d85717b9bd5dabd3c5d10d36d76c0c1592c79e3"}}'
  
  load-solaris_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-b942cea2c9331851a8d252faf77438116afad910-{{checksum ".buildcache/cache-keys/package-b942cea2c9331851a8d252faf77438116afad910"}}'
  
  load-windows_386_package:
    steps:
      - restore_cache:
          key: 'cache002-package-2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e-{{checksum ".buildcache/cache-keys/package-2e2e1ff44cc76db1bcaaa33dbe5a98260f4c8f7e"}}'
  
  load-windows_amd64_package:
    steps:
      - restore_cache:
          key: 'cache002-package-e9ab910e3b74a9c3a2b366b9f0af9323246b7c35-{{checksum ".buildcache/cache-keys/package-e9ab910e3b74a9c3a2b366b9f0af9323246b7c35"}}'
  

  write-build-layer-cache-keys:
    steps:
      - run:
          name: Write builder layer cache keys
          command: make -C packages*.lock write-builder-cache-keys

  write-package-cache-key:
    steps:
      - run:
          name: Write package cache key
          command: make -C packages*.lock write-package-cache-key

  write-all-package-cache-keys:
    steps:
      - run:
          name: Write package cache key
          command: make -C packages*.lock write-all-package-cache-keys
